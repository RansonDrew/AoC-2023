I spent a lot of time trying to think through what sort of data structure would be "best" for this question. In the end, I just did a few nested loops. In a stoke of good luck, instead of failing a game in line, I gathered the maximum values for the colors and evaluated after the loop. I say this is lucky, because part 2 wanted these maximum values for the answer.

Part 1 Answer is 2105
Part 2 Answer is 72422